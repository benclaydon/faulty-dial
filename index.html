<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>7 Segment Display</title>
  <link rel="stylesheet" href="style.css">
</head>
<body>

<!-- One individual display -->
<div class="dial-container">

<div class="dial-button">
  <button id="increase_unbroken3" onclick="unbroken_num = increaseVal(unbroken_num, 3, false)">+</button>
  <div class="display" id="unbroken3">
    <div class="segment a"></div>
    <div class="segment b"></div>
    <div class="segment c"></div>
    <div class="segment d"></div>
    <div class="segment e"></div>
    <div class="segment f"></div>
    <div class="segment g"></div>
  </div>
  <button id="decrease_unbroken3" onclick="unbroken_num = decreaseVal(unbroken_num, 3, false)">-</button>
</div>

<div class="dial-button">
  <button id="increase_unbroken2" onclick="unbroken_num = increaseVal(unbroken_num, 2, false)">+</button>
  <div class="display" id="unbroken2">
    <div class="segment a"></div>
    <div class="segment b"></div>
    <div class="segment c"></div>
    <div class="segment d"></div>
    <div class="segment e"></div>
    <div class="segment f"></div>
    <div class="segment g"></div>
  </div>
  <button id="decrease_unbroken2" onclick="unbroken_num = decreaseVal(unbroken_num, 2, false)">-</button>
</div>

<div class="dial-button">
  <button id="increase_unbrokenq" onclick="unbroken_num = increaseVal(unbroken_num, 1, false)">+</button>
  <div class="display" id="unbroken1">
    <div class="segment a"></div>
    <div class="segment b"></div>
    <div class="segment c"></div>
    <div class="segment d"></div>
    <div class="segment e"></div>
    <div class="segment f"></div>
    <div class="segment g"></div>
  </div>
  <button id="decrease_unbroken1" onclick="unbroken_num = decreaseVal(unbroken_num, 1, false)">-</button>
</div>

<div class="dial-button">
  <button id="increase_unbroken0" onclick="unbroken_num = increaseVal(unbroken_num, 0, false)">+</button>
  <div class="display" id="unbroken0">
    <div class="segment a"></div>
    <div class="segment b"></div>
    <div class="segment c"></div>
    <div class="segment d"></div>
    <div class="segment e"></div>
    <div class="segment f"></div>
    <div class="segment g"></div>
  </div>
  <button id="decrease_unbroken0" onclick="unbroken_num = decreaseVal(unbroken_num, 0, false)">-</button>
</div>
</div>

<div class="dial-container">
  <div class="dial-button">
    <button id="increase_broken3" onclick="broken_num = increaseVal(broken_num, 3, true, broken_map)">+</button>
    <div class="display" id="broken3">
      <div class="segment a"></div>
      <div class="segment b"></div>
      <div class="segment c"></div>
      <div class="segment d"></div>
      <div class="segment e"></div>
      <div class="segment f"></div>
      <div class="segment g"></div>
    </div>
    <button id="decrease_ broken3" onclick="broken_num = decreaseVal(broken_num, 3, true, broken_map)">-</button>
  </div>

  <div class="dial-button">
    <button id="increase_broken2" onclick="broken_num = increaseVal(broken_num, 2, true, broken_map)">+</button>
    <div class="display" id="broken2">
      <div class="segment a"></div>
      <div class="segment b"></div>
      <div class="segment c"></div>
      <div class="segment d"></div>
      <div class="segment e"></div>
      <div class="segment f"></div>
      <div class="segment g"></div>
    </div>
    <button id="decrease_ broken2" onclick="broken_num = decreaseVal(broken_num, 2, true, broken_map)">-</button>
  </div>

  <div class="dial-button">
    <button id="increase_broken1" onclick="broken_num = increaseVal(broken_num, 1, true, broken_map)">+</button>
    <div class="display" id="broken1">
      <div class="segment a"></div>
      <div class="segment b"></div>
      <div class="segment c"></div>
      <div class="segment d"></div>
      <div class="segment e"></div>
      <div class="segment f"></div>
      <div class="segment g"></div>
    </div>
    <button id="decrease_ broken1" onclick="broken_num = decreaseVal(broken_num, 1, true, broken_map)">-</button>
  </div>

  <div class="dial-button">
    <button id="increase_broken0" onclick="broken_num = increaseVal(broken_num, 0, true, broken_map)">+</button>
    <div class="display" id="broken0">
      <div class="segment a"></div>
      <div class="segment b"></div>
      <div class="segment c"></div>
      <div class="segment d"></div>
      <div class="segment e"></div>
      <div class="segment f"></div>
      <div class="segment g"></div>
    </div>
    <button id="decrease_ broken0" onclick="broken_num = decreaseVal(broken_num, 0, true, broken_map)">-</button>
  </div>
</div>


<script src="setup.js"></script>

<script>



  let seed = getSeed();
  let randomState = getBrokenSegments(seed);
  let broken_map = Array(NUM_DIALS).fill(0);

  for (var i = 0; i < NUM_DIALS; i++) {
    broken_map[i] = getNewMap(i, randomState.segments);
  }

  const start_broken = rng(randomState.nextSeed);
  var broken_num = Math.floor((Math.pow(10, NUM_DIALS)) * start_broken.value);

  const start_unbroken = rng(start_broken.nextSeed);
  var unbroken_num = Math.floor((Math.pow(10, NUM_DIALS)) * start_unbroken.value);

  setUnbrokenDial(unbroken_num);
  setBrokenDial(broken_num, broken_map);
</script>

</body>
</html>
